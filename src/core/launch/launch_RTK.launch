<launch>
    <!-- запуск файла конфигурации -->
    <rosparam file="$(find core)/config/config.yaml" command="load" />

    <!-- загрузка описания робота -->
    <include file="$(find patrol_description)/launch/description.launch" />

    <!-- запуск драйвера робота для связи с контроллером СНУ -->
    <include file="$(find driver_pkg)/launch/driver.launch" />

    <!-- запуск контроллера лидара  -->
    <node name="rplidarNode" pkg="rplidar_ros" type="rplidarNode" output="screen">
        <param name="serial_port" type="string" value="/dev/ttyUSB0" />
        <param name="serial_baudrate" type="int" value="256000" /> <!--A3 -->
        <param name="frame_id" type="string" value="laser_base" />
        <param name="inverted" type="bool" value="false" />
        <param name="angle_compensate" type="bool" value="true" />
        <param name="scan_mode" type="string" value="Sensitivity" />
    </node>


    <!-- запуск "читателя" KML файлов -->
    <node name="KML_parser" pkg="kml_parser" type="kml_parser_core.py" output="screen"/>

    <node name="mapping" pkg="gmapping" type="slam_gmapping" output="screen">
        <param name="scan" type="string" value="/scan"/>
    </node>
    <include file="$(find dwa_planner)/launch/local_planner.launch" />
    
</launch>