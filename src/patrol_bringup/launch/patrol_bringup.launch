<launch>
    <include file="$(find patrol_description)/launch/description.launch" />
    <include file="$(find driver_pkg)/launch/driver.launch" />

    <include file="$(find realsense2_camera)/launch/rs_camera.launch" />


    <node pkg="nodelet" type="nodelet" name="nodelet_manager" args="manager" />

    <node pkg="nodelet" type="nodelet" name="nodelet1" args="load depth_image_proc/point_cloud_xyz nodelet_manager">
        <remap from="camera_info" to="/camera/depth/camera_info"/>
        <remap from="image_rect" to="/camera/depth/image_rect_raw"/>
        <remap from="points" to="/camera/depth/points"/>
    </node>


    <node name="rplidarNode" pkg="rplidar_ros" type="rplidarNode" output="screen">
        <param name="serial_port" type="string" value="/dev/ttyUSB0" />
        <param name="serial_baudrate" type="int" value="256000" />
        <param name="frame_id" type="string" value="laser_base" />
        <param name="inverted" type="bool" value="false" />
        <param name="angle_compensate" type="bool" value="true" />
        <param name="scan_mode" type="string" value="Sensitivity" />
    </node>

    <node name="mapping" pkg="gmapping" type="slam_gmapping" output="screen">
        <param name="scan" type="string" value="/scan" />
    </node>

    <param name="base_local_planner" value="dwa_local_planner/DWAPlannerROS"/>
    <include file="$(find patrol_navigation)/launch/begin_navigation.launch" />

    <!-- <node name="gps_node" pkg="gps_pkg" type="gps_node2.py" output="screen"/> -->
    <!-- <include file="$(find gps_goal)/launch/gps_goal.launch"/> -->


</launch>